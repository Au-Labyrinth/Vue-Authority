<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>过滤器</title>
    <link rel="stylesheet" href="../lib/common.css">
    <script type="text/javascript" src="../lib/vue.js"></script>
</head>
<body>
    <h2 class="text-title">过滤器</h2>
    <div class="content-box">

        <p>Vue.js 允许你自定义过滤器，可被用于一些常见的文本格式化。过滤器可以用在两个地方：双花括号插值和 v-bind 表达式 (后者从 2.1.0+ 开始支持)。过滤器应该被添加在 JavaScript 表达式的尾部，由“管道”符号指示：</p>

        <p>
            在双花括号中<br>
            {{ message | capotalize}}
        </p>

        <p>
            可以在一个组件的选项中定义本地的过滤器：<br>
            filters: {<br>
                capitalize: function (value) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (!value) return ''<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value = value.toString()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return value.charAt(0).toUpperCase() + value.slice(1)<br>
&nbsp;&nbsp;&nbsp;}<br>
            }
        </p>

        <p>
            或者全局定义过滤器:<br>
            Vue.filters: {<br>
                capitalize: function (value) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (!value) return ''<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value = value.toString()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return value.charAt(0).toUpperCase() + value.slice(1)<br>
&nbsp;&nbsp;&nbsp;}<br>
            }
        </p>

        <p id="app">
            <input v-model="message">
            <div>{{ message }}</div>
        </p>

        <p>过滤器函数总接收表达式的值 (之前的操作链的结果) 作为第一个参数。在上述例子中，capitalize 过滤器函数将会收到 message 的值作为第一个参数。</p>

        <p>
            过滤器可以串联：<br>
            {{ message | filterA | filterB}}
        </p>

        <p>在这个例子中，filterA 被定义为接收单个参数的过滤器函数，表达式 message 的值将作为参数传入到函数中。然后继续调用同样被定义为接收单个参数的过滤器函数 filterB，将 filterA 的结果传递到 filterB 中。</p>

        <p>顾虑器是JavaScript 函数，一次可以接受参数：</p>

        <p>{{ message | filter('arg1', ar g2) }}</p>

        <p>这里，filterA 被定义为接受三个参数的过滤器函数。其中 message 的值作为第一个参数,
            普通字符串'arg1'作为第二个参数，表达式arg2的值作为第三个参数。
        </p>

    </div>

    <script type="text/javascript" charset="utf-8">
        //  Vue.filter('capitalize', function (value) {
        //     console.log(value);
        //     if (!value) return '';
        //     value = value.toString()
        //     return value.charAt(0).toUpperCase() + value.slice(1)
        // })
        
         var app = new Vue({
             el: '#app',
             data: {
                 message: ''
             }
         })

    </script>
</body>
</html>